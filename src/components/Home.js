import React from 'react';
import { PropTypes } from 'prop-types';
import { connect } from 'react-redux';
import { Link } from 'react-router-dom';

const Home = (props) => (
	<div className="home">
		<div>
			<img
				src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKIHdpZHRoPSIyNzAuMDAwMDAwcHQiIGhlaWdodD0iODIuMDAwMDAwcHQiIHZpZXdCb3g9IjAgMCAxOTIwLjAwMDAwMCA1NDAuMDAwMDAwIgogcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCI+Cgo8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCw1NDAuMDAwMDAwKSBzY2FsZSgwLjEwMDAwMCwtMC4xMDAwMDApIgpmaWxsPSJ1cmwoI25hYmFleHBvbG9nbykiIHN0cm9rZT0ibm9uZSI+CjxwYXRoIGQ9Ik01OTk5IDQ1MTYgYy0yIC0yIC0zOCAtOSAtNzkgLTE2IC00MSAtNiAtOTcgLTE1IC0xMjUgLTIwIC0yNyAtNgotNzYgLTE0IC0xMDcgLTIwIC0xMzUgLTIzIC0xODUgLTMyIC0yMjMgLTM4IGwtNDAgLTcgLTMgLTE0NjkgYy0xIC04MDkgMgotMTQ3NCA2IC0xNDc4IDI2IC0yNiA0MjYgLTc2IDcxMyAtODggMjIxIC0xMCAyNzYgLTkgMzk1IDUgMjE3IDI1IDMzNCA1OCA0NzYKMTM1IDExMyA2MSAyNDggMjM0IDI4MCAzNTYgMzYgMTQxIDQxIDIyOCA0MSA2NjkgMCA1NDcgLTEzIDY0OSAtOTggNzgwIC01Ngo4NSAtOTUgMTE5IC0xOTIgMTY4IC0xMjggNjUgLTQyNiAxMDkgLTU5NyA4NiAtODYgLTExIC0yODUgLTQ5IC0zMzMgLTY0IGwtMjMKLTcgMCA1MDYgMCA1MDYgLTQzIDAgYy0yNCAwIC00NiAtMiAtNDggLTR6IG01NTEgLTE1MjggYzI2IC0xNCA1NyAtNDEgNzUgLTY2CmwzMCAtNDQgMyAtMzY1IGMzIC00MTUgMSAtNDM2IC02OCAtNTAxIC02OCAtNjMgLTEwMSAtNzEgLTMxMiAtNzEgbC0xODggLTEgMAo0OTYgMCA0OTUgNTggMjYgYzg2IDM5IDE0NiA1MSAyNTcgNTIgODYgMSAxMDcgLTIgMTQ1IC0yMXoiLz4KPHBhdGggZD0iTTEwNDY4IDM1ODUgYy0yIC0yIC00NSAtOCAtOTcgLTE0IC0yMTAgLTI2IC0zNzYgLTk4IC01MDEgLTIxOCAtNjgKLTY0IC04NyAtOTAgLTEyOSAtMTc2IC04NCAtMTcwIC05MSAtMjIyIC05MSAtNjYyIDAgLTM5NCA2IC00NTQgNTggLTYxMCA1NQotMTY3IDE2OCAtMzA1IDMyMiAtMzkyIDk2IC01NSAxMzggLTcyIDI2MCAtMTA1IDgxIC0yMiAxMDAgLTIzIDQyNSAtMjIgMzA1IDAKMzU0IDMgNDc1IDIzIDE3MyAyOSAyNjMgNTAgMjcyIDY1IDExIDE2IDEwIDUwOCAtMSA1MjQgLTcgMTEgLTIwIDEyIC03MiAzCi0yMjEgLTM5IC00NjQgLTYyIC02NTAgLTYzIC0zMjIgLTEgLTM5NSA0MiAtNDA4IDIzOSBsLTYgOTMgNTgyIDAgYzMyMCAwIDU4OAozIDU5NyA2IDE0IDUgMTYgMzYgMTUgMjQ4IC0xIDM2OCAtMTYgNDg4IC03OSA2MjEgLTExMyAyNDIgLTMxOCAzODEgLTYyNSA0MjUKLTc0IDExIC0zMzkgMjIgLTM0NyAxNXogbTI1OSAtNTQ4IGM4MyAtNDIgOTggLTc0IDExNyAtMjQ5IGw2IC00OCAtMjYzIDAKLTI2MyAwIDMgNjggYzcgMTM5IDExIDE1NCA1OCAxOTkgNTMgNTAgOTkgNjMgMjEwIDU5IDYzIC0zIDkyIC05IDEzMiAtMjl6Ii8+CjxwYXRoIGQ9Ik0yMjQ1IDM1NjYgYy0xMDEgLTEzIC0yMjAgLTQ0IC0yNzIgLTcxIC0xNSAtOCAtMzUgLTE1IC00NCAtMTUgLTggMAotMTkgLTQgLTI1IC05IC01IC01IC0zMCAtMTggLTU2IC0yOSBsLTQ3IC0yMCAtMzAgNjQgLTMwIDY0IC0yNzYgMCAtMjc1IDAgMgotMTA3MiAzIC0xMDczIDMyMSAtMyBjMjYxIC0yIDMyMyAwIDMzMyAxMSA4IDEwIDEyIDIyNyAxMyA3NjggbDMgNzU0IDg1IDM0CmM3MiAyOSAxMDAgMzQgMTkwIDM4IDY0IDMgMTIyIDEgMTQ3IC02IDU4IC0xNiAxMTggLTc0IDEzMyAtMTI5IDggLTMyIDExCi0yMzkgMTAgLTc0MiAtMSAtNjI4IDEgLTcwMCAxNSAtNzE0IDE0IC0xNCA1NSAtMTYgMzI1IC0xNiAxNzAgMCAzMTUgMyAzMjQgNgoxNCA2IDE2IDc4IDE2IDcxMyAwIDc0NCAtNyA5MjQgLTQyIDEwNTQgLTQ5IDE4NSAtMjI3IDM1MSAtNDE0IDM4NyAtOTIgMTcKLTI5OCAyMSAtNDA5IDZ6Ii8+CjxwYXRoIGQ9Ik0xNTA2NSAzNTY1IGMtODggLTE0IC0yNjQgLTcwIC0zNTMgLTExMyAtMzEgLTE1IC02MCAtMjggLTY0IC0zMCAtNQotMiAtOCAxMSAtOCAzMCAtMSAxOCAtOSA0OSAtMTggNjggbC0xNyAzNSAtMjcwIDAgLTI3MCAwIC0zIC0xNTQ5IGMtMSAtOTkyIDEKLTE1NTMgOCAtMTU2MCA2IC02IDMwIC01IDY3IDMgMzIgNyA4MyAxNyAxMTMgMjMgMzAgNSA3NSAxNCAxMDAgMTggNDMgOSAxMDAKMTkgMjIwIDQxIDMwIDYgNzggMTYgMTA1IDIyIGw1MCAxMiAzIDQ0OSAyIDQ0OCAyOCAtNSBjMTUgLTIgNjMgLTE0IDEwNyAtMjYKOTkgLTI2IDM0NSAtNDUgNDc0IC0zNiAxNzMgMTIgMzQzIDY2IDQzNiAxMzkgNjIgNDggODIgNzUgMTI0IDE2MSAzNyA3NyA0NAoxMDQgNzEgMjkyIDUgMzkgMTAgMjMxIDEwIDQyNSAtMSA1NDggLTI3IDcwNSAtMTUyIDg4NyAtMTI0IDE3OSAtMzEyIDI3MAotNTczIDI3NiAtNjAgMiAtMTQ2IC0zIC0xOTAgLTEweiBtMTA1IC02MDYgYzYwIC0yNyA3OSAtNDUgMTA2IC0xMDQgMjQgLTQ5CjI0IC01NCAyNCAtMzg4IDAgLTM2MiAtMiAtMzgxIC01MyAtNDM1IC04MCAtODYgLTI4NCAtOTIgLTQ1MiAtMTMgbC02NSAzMCAwCjQyMyBjMCAyMzMgNCA0MjggOCA0MzQgNCA3IDMxIDIwIDU5IDI5IDE0OCA0OCAyOTggNTggMzczIDI0eiIvPgo8cGF0aCBkPSJNMTY5MzAgMzU3MyBjLTkwIC0xNSAtMjI3IC01MSAtMjk3IC03OSAtMjUyIC0xMDIgLTQwMiAtMjg1IC00NTgKLTU2MCAtMTQgLTcwIC0xNiAtMTM5IC0xMiAtNDkwIDUgLTQ1OCA2IC00NzEgODEgLTYyNyAxMTYgLTI0MSAzMjMgLTM4MiA2MjYKLTQyNyA4MCAtMTIgMzcyIC0xMiA0NzAgMSAzNDYgNDMgNTczIDIxMCA2NzkgNDk5IDUwIDEzOSA1NiAyMDAgNTYgNjAwIDAgMzIyCi0zIDM4NiAtMTggNDU1IC0zOSAxNzggLTEwMiAyOTQgLTIyMiA0MTEgLTExNSAxMTIgLTI2MCAxNzggLTQ3MCAyMTQgLTUwIDgKLTM4NyAxMSAtNDM1IDN6IG0zMDYgLTU3NyBjOTcgLTI2IDEzMiAtNjUgMTU4IC0xNzkgMTMgLTU0IDE2IC0xMzEgMTYgLTM3NQpsMCAtMzA3IC0zMyAtNjUgYy0zMCAtNjEgLTM2IC02NyAtMTAyIC0xMDAgLTY2IC0zMiAtNzYgLTM1IC0xNjUgLTM0IC0xNTAgMQotMjI1IDQ2IC0yNjIgMTU3IC0xNSA0NSAtMTcgOTcgLTE3IDM3NyAwIDIxMiA0IDMzOSAxMSAzNjUgMjMgODEgOTUgMTQ4IDE3OQoxNjQgNjggMTMgMTU5IDEyIDIxNSAtM3oiLz4KPHBhdGggZD0iTTM2MzggMzUzOSBjLTUgLTMgLTE2IC03OCAtMjQgLTE2NSAtNyAtODggLTE4IC0xODEgLTIzIC0yMDkgLTYgLTI3Ci0xMSAtNzcgLTEzIC0xMTAgbC0zIC02MCAzNzAgLTYgYzM1NyAtNSA0MDggLTEwIDQ3MCAtNDAgNjAgLTMwIDg1IC0xMDIgODUKLTI0OCBsMCAtNzYgLTE4MiAzIGMtMjA4IDQgLTUwMCAtMTkgLTU5MyAtNDYgLTEyNSAtMzYgLTI1MCAtMTMyIC0yOTkgLTIzMQotNTEgLTEwMSAtNjEgLTE1NSAtNjEgLTMzMSAwIC0xODEgOCAtMjE3IDc3IC0zNTMgMzcgLTc1IDE0NSAtMTg0IDIxNCAtMjE5CjEwOCAtNTQgMTU2IC02MyAzMzkgLTYyIDE0MCAwIDE4NiA0IDI2MCAyMyA5MSAyMiAyNzIgODYgMjkwIDEwMiAyNCAyMyA0MiA4CjU1IC00NSAxMCAtNDEgMTggLTU2IDM0IC02MCAxMiAtMyAxMzIgLTYgMjY4IC02IDIxMSAwIDI0OSAyIDI2MiAxNiAxNCAxNCAxNgo5MSAxNiA2OTYgMCA3MDUgLTUgODIwIC00NiA5ODMgLTU0IDIyMCAtMjA2IDM1NiAtNDY0IDQxNyAtODkgMjAgLTEyNSAyMgotNTU4IDI3IC0yNTUgMyAtNDY4IDMgLTQ3NCAweiBtODYwIC0xNDg2IGwtMyAtMTE3IC0xMDAgLTM1IGMtODEgLTI4IC0xMTUKLTM1IC0xODAgLTM1IC0xMDAgLTEgLTEzOCAxNyAtMTY2IDc3IC0zMyA3MyAtMTcgMTgzIDI5IDIwMiAzMiAxNCAxMzcgMjIgMjgwCjI0IGwxNDMgMSAtMyAtMTE3eiIvPgo8cGF0aCBkPSJNNzg1MyAzNTM2IGMtMyAtNCAtMTIgLTYzIC0xOSAtMTMwIC0xNSAtMTM1IC00MyAtMzk3IC00NCAtNDA4IDAgLTUKMTU1IC04IDM0NCAtOCA1MTYgMCA1NDYgLTEwIDU3NiAtMjAwIDUgLTM2IDEwIC04NyAxMCAtMTE1IGwwIC01MCAtMjQzIDAKYy0yNTAgMCAtNDQyIC0xNSAtNTM3IC00MiAtNzMgLTIwIC0xODkgLTkzIC0yMzkgLTE1MCAtODIgLTkzIC0xMjIgLTIxNSAtMTI3Ci0zOTMgLTggLTI5OSAxMzggLTUzOCAzODYgLTYzMSA2MCAtMjIgNzkgLTI0IDI0MCAtMjQgMTQ4IDEgMTkwIDQgMjcwIDI0IDUyCjEyIDEwOSAyOSAxMjUgMzYgMTcgNyA0MSAxNiA1NCAyMCAxNCA0IDUzIDIwIDg4IDM2IDY5IDMxIDY3IDMyIDc4IC0zMyAxMQotNjkgNyAtNjggMjkzIC02OCAxNDEgMCAyNjMgNCAyNzAgOSAxMSA3IDEzIDE0OCAxMCA3ODIgLTUgODM4IC0zIDgwNiAtNjAKOTc0IC00NCAxMjcgLTEyOCAyMTkgLTI2MSAyODMgLTE1MiA3NCAtMjI2IDg1IC01ODcgODkgLTE3MyAyIC0zODQgNCAtNDY4IDYKLTg1IDEgLTE1NiAtMiAtMTU5IC03eiBtODY3IC0xNDgwIGwwIC0xMTQgLTc4IC0zMCBjLTE0MCAtNTQgLTI1MyAtNjQgLTMyNgotMzAgLTUyIDIzIC04NCAxNDkgLTU2IDIyMiAxOSA1MSA3MyA2MiAzMTggNjQgbDE0MiAyIDAgLTExNHoiLz4KPHBhdGggZD0iTTExNzcwIDM1MzAgYzAgLTYgMzIgLTcwIDcyIC0xNDMgOTIgLTE3MSAxODQgLTM0MiAyMzggLTQ0MiA1MCAtOTQKODggLTE2MiAxMjIgLTIyNSA4NyAtMTU3IDEwOCAtMTk5IDEwOCAtMjEwIDAgLTEwIC0xNTIgLTMwMCAtNDIxIC04MDMgLTM4Ci03MSAtNjkgLTEzMCAtNjkgLTEzMiAwIC0yIC0xOCAtMzYgLTQxIC03NSAtMjIgLTQwIC0zOCAtNzggLTM1IC04NiA3IC0xOQo3MTMgLTIxIDczOCAtMSAxNSAxMSAyOCAzOCAxMDQgMjIyIDE0IDMzIDI5IDY5IDM0IDgwIDUgMTEgMjEgNDkgMzYgODUgMTQgMzYKMzQgODMgNDQgMTA1IDkgMjIgMzUgODIgNTYgMTMzIDIxIDUwIDQxIDkyIDQ0IDkyIDMgMCAzMCAtNTcgNTkgLTEyNyAyOSAtNzEKNzAgLTE2OCA5MiAtMjE4IDIxIC00OSA2MyAtMTUxIDk0IC0yMjUgMzEgLTc0IDYxIC0xNDAgNjcgLTE0NyA4IC0xMCA5MCAtMTMKMzcwIC0xMyAzMDUgMCAzNTkgMiAzNjQgMTUgMyA4IC0xNyA1NiAtNDQgMTA3IC02OCAxMjYgLTEyMSAyMjggLTI4MiA1MzMgLTc1CjE0MyAtMTU4IDMwMCAtMTgzIDM0OCAtMjYgNDggLTQ3IDk3IC00NyAxMDkgMCAxMSAxMyA0NCAyOSA3MiAxNiAyOCA0NiA4NSA2OAoxMjYgMjIgNDEgNzAgMTI5IDEwNSAxOTUgNjIgMTE1IDg0IDE1NSAxOTMgMzYwIDI3IDUwIDcwIDEzMCA5NyAxNzkgMjYgNDkgNDgKOTEgNDggOTMgMCAyIC0xNjUgMiAtMzY2IDEgLTMxNCAtMyAtMzY4IC01IC0zNzUgLTE4IC0xNSAtMjggLTI2OSAtNjMxIC0yNjkKLTYzOSAwIC01IC02IC0xMyAtMTMgLTE5IC05IC04IC0xNSAtNCAtMjQgMTYgLTcgMTUgLTM1IDgxIC02MyAxNDcgLTI5IDY2Ci02MiAxNDMgLTc0IDE3MCAtMTMgMjggLTUxIDExNiAtODcgMTk4IGwtNjQgMTQ3IC0zNjIgMCBjLTIzOSAwIC0zNjMgLTMgLTM2MwotMTB6Ii8+CjwvZz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibmFiYWV4cG9sb2dvIiB4MT0iMTAwJSIgeTE9IjEwMCUiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSJsaWdodGJsdWUiIHN0b3Atb3BhY2l0eT0iLjUiPgogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3RvcC1jb2xvciIgdmFsdWVzPSJsaWdodGJsdWU7Ymx1ZTtyZWQ7cmVkO2JsYWNrO3JlZDtyZWQ7cHVycGxlO2xpZ2h0Ymx1ZSIgZHVyPSIxNHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogICAgICAgICAgICA8L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0ibGlnaHRibHVlIiBzdG9wLW9wYWNpdHk9Ii41Ij4KICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InN0b3AtY29sb3IiIHZhbHVlcz0ibGlnaHRibHVlO29yYW5nZTtwdXJwbGU7cGluayxwdXJwbGU7cmVkO3B1cnBsZTt5ZWxsb3cscHVycGxlO2JsdWU7bGlnaHRibHVlIiBkdXI9IjE0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvZmZzZXQiIHZhbHVlcz0iLjk1Oy44MDsuNjA7LjQwOy4yMDswOy4yMDsuNDA7LjYwOy44MDsuOTUiIGR1cj0iMTRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICAgICAgICAgICAgPC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+Cgo8L3N2Zz4K"
				style="width: 100%; height: 50px;"
			/>
			<h1 itemProp="headline">Naba-Expo video room</h1>
			<p>Please enter a room name.</p>
			<input
				type="text"
				name="room"
				value={props.roomId}
				onChange={props.handleChange}
				pattern="^\w+$"
				maxLength="10"
				required
				autoFocus
				title="Room name should only contain letters or numbers."
			/>
			<Link className="primary-button" to={'/r/' + props.roomId}>
				Join
			</Link>
			<Link className="primary-button" to={'/r/' + props.defaultRoomId}>
				Random
			</Link>
			{props.rooms.length !== 0 && <div>Recently used rooms:</div>}
			{props.rooms.map((room) => (
				<Link key={room} className="recent-room" to={'/r/' + room}>
					{room}
				</Link>
			))}
		</div>
	</div>
);

Home.propTypes = {
	handleChange  : PropTypes.func.isRequired,
	defaultRoomId : PropTypes.string.isRequired,
	roomId        : PropTypes.string.isRequired,
	rooms         : PropTypes.array.isRequired
};

const mapStateToProps = (store) => ({ rooms: store.rooms });

export default connect(mapStateToProps)(Home);
